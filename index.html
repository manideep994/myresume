<!DOCTYPE html>
<html lang="en">

    <!-- Privacy-friendly analytics by Plausible -->
<script async src="https://plausible.io/js/pa-fxN_xqNfv1BOiYqdqh818.js"></script>
<script>
  window.plausible=window.plausible||function(){(plausible.q=plausible.q||[]).push(arguments)},plausible.init=plausible.init||function(i){plausible.o=i||{}};
  plausible.init()
</script>

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Sync Doc - Document Manager</title>
    <script crossorigin src="https://unpkg.com/react@18/umd/react.production.min.js"></script>
    <script crossorigin src="https://unpkg.com/react-dom@18/umd/react-dom.production.min.js"></script>
    <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', 'Helvetica Neue', Arial, sans-serif;
            background: #f8f9fa;
            color: #1a1a1a;
            -webkit-font-smoothing: antialiased;
            -moz-osx-font-smoothing: grayscale;
        }

        .app {
            min-height: 100vh;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            padding: 0;
        }

        /* Header */
        .header {
            background: white;
            box-shadow: 0 2px 8px rgba(0,0,0,0.08);
            position: sticky;
            top: 0;
            z-index: 100;
        }

        .header-container {
            max-width: 1400px;
            margin: 0 auto;
            padding: 16px 20px;
            display: flex;
            align-items: center;
            justify-content: space-between;
            gap: 20px;
        }

        .logo {
            display: flex;
            align-items: center;
            gap: 12px;
            text-decoration: none;
            color: inherit;
        }

        .logo-icon {
            width: 40px;
            height: 40px;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            border-radius: 10px;
            display: flex;
            align-items: center;
            justify-content: center;
            color: white;
        }

        .logo h1 {
            font-size: 24px;
            font-weight: 700;
            color: #1a1a1a;
            letter-spacing: -0.5px;
        }

        .header-actions {
            display: flex;
            align-items: center;
            gap: 12px;
        }

        .search-container {
            background: white;
            border-bottom: 1px solid #e9ecef;
            position: sticky;
            top: 72px;
            z-index: 99;
        }

        .search-wrapper {
            max-width: 1400px;
            margin: 0 auto;
            padding: 16px 20px;
        }

        .header-search {
            position: relative;
            width: 100%;
        }

        .header-search input {
            width: 100%;
            padding: 14px 16px 14px 48px;
            border: 2px solid #e9ecef;
            border-radius: 12px;
            font-size: 15px;
            transition: all 0.2s;
            background: #f8f9fa;
        }

        .header-search input:focus {
            outline: none;
            border-color: #667eea;
            background: white;
            box-shadow: 0 0 0 4px rgba(102, 126, 234, 0.1);
        }

        .header-search .search-icon {
            position: absolute;
            left: 16px;
            top: 50%;
            transform: translateY(-50%);
            color: #6c757d;
        }

        .btn-primary {
            padding: 10px 20px;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            border: none;
            border-radius: 10px;
            font-size: 15px;
            font-weight: 600;
            cursor: pointer;
            display: flex;
            align-items: center;
            gap: 8px;
            transition: all 0.2s;
            box-shadow: 0 4px 12px rgba(102, 126, 234, 0.3);
        }

        .btn-primary:hover {
            transform: translateY(-2px);
            box-shadow: 0 6px 20px rgba(102, 126, 234, 0.4);
        }

        .btn-primary:active {
            transform: translateY(0);
        }

        .view-toggle {
            display: flex;
            background: #f8f9fa;
            border-radius: 10px;
            padding: 4px;
            gap: 4px;
        }

        .view-btn {
            padding: 8px 12px;
            border: none;
            background: transparent;
            border-radius: 8px;
            cursor: pointer;
            color: #6c757d;
            transition: all 0.2s;
            display: flex;
            align-items: center;
            gap: 6px;
        }

        .view-btn.active {
            background: white;
            color: #667eea;
            box-shadow: 0 2px 4px rgba(0,0,0,0.08);
        }

        /* Main Content */
        .main-content {
            max-width: 1400px;
            margin: 0 auto;
            padding: 24px 20px;
        }

        .content-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 24px;
            gap: 16px;
            flex-wrap: wrap;
        }

        .doc-stats {
            display: flex;
            gap: 24px;
            align-items: center;
            flex-wrap: wrap;
        }

        .stat-item {
            display: flex;
            flex-direction: column;
        }

        .stat-label {
            font-size: 13px;
            color: rgba(255,255,255,0.8);
            font-weight: 500;
            text-transform: uppercase;
            letter-spacing: 0.5px;
        }

        .stat-value {
            font-size: 28px;
            font-weight: 700;
            color: white;
            margin-top: 4px;
        }

        /* Security Badge */
        .security-badge {
            display: flex;
            align-items: center;
            gap: 10px;
            background: rgba(255, 255, 255, 0.15);
            backdrop-filter: blur(10px);
            padding: 12px 18px;
            border-radius: 12px;
            border: 1px solid rgba(255, 255, 255, 0.2);
        }

        .security-icon {
            width: 36px;
            height: 36px;
            background: rgba(76, 175, 80, 0.25);
            border-radius: 8px;
            display: flex;
            align-items: center;
            justify-content: center;
            color: #4caf50;
            flex-shrink: 0;
        }

        .security-text {
            display: flex;
            flex-direction: column;
            gap: 2px;
        }

        .security-title {
            font-size: 12px;
            font-weight: 700;
            color: white;
            letter-spacing: 0.3px;
            text-transform: uppercase;
        }

        .security-description {
            font-size: 11px;
            color: rgba(255, 255, 255, 0.75);
            line-height: 1.3;
        }

        .filter-bar {
            background: white;
            border-radius: 12px;
            padding: 16px;
            margin-bottom: 24px;
            box-shadow: 0 2px 8px rgba(0,0,0,0.06);
        }

        .filter-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 12px;
        }

        .filter-title {
            font-size: 14px;
            font-weight: 600;
            color: #495057;
            display: flex;
            align-items: center;
            gap: 8px;
        }

        .filter-actions {
            display: flex;
            gap: 8px;
        }

        .clear-filters, .show-more-btn {
            padding: 6px 12px;
            background: transparent;
            border: 1px solid #dee2e6;
            border-radius: 6px;
            font-size: 13px;
            color: #6c757d;
            cursor: pointer;
            transition: all 0.2s;
        }

        .clear-filters:hover, .show-more-btn:hover {
            background: #f8f9fa;
            border-color: #667eea;
            color: #667eea;
        }

        .tag-filters {
            display: flex;
            gap: 8px;
            flex-wrap: wrap;
        }

        .tag-filter {
            padding: 8px 16px;
            background: #f8f9fa;
            border: 2px solid transparent;
            border-radius: 20px;
            font-size: 14px;
            color: #495057;
            cursor: pointer;
            transition: all 0.2s;
            font-weight: 500;
        }

        .tag-filter:hover {
            background: #e9ecef;
        }

        .tag-filter.active {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            border-color: transparent;
        }

        /* Selection Bar */
        .selection-bar {
            background: white;
            border-radius: 12px;
            padding: 16px 20px;
            margin-bottom: 20px;
            display: flex;
            justify-content: space-between;
            align-items: center;
            box-shadow: 0 2px 8px rgba(0,0,0,0.06);
            gap: 16px;
            flex-wrap: wrap;
        }

        .selection-info {
            display: flex;
            align-items: center;
            gap: 16px;
        }

        .selection-count {
            font-size: 15px;
            font-weight: 600;
            color: #495057;
        }

        .selection-actions {
            display: flex;
            gap: 8px;
        }

        .btn-text {
            padding: 8px 16px;
            background: transparent;
            border: none;
            color: #667eea;
            font-size: 14px;
            font-weight: 600;
            cursor: pointer;
            border-radius: 8px;
            transition: all 0.2s;
        }

        .btn-text:hover {
            background: rgba(102, 126, 234, 0.1);
        }

        /* Document Grid */
        .document-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(200px, 1fr));
            gap: 20px;
        }

        .doc-card {
            background: white;
            border-radius: 16px;
            padding: 20px;
            cursor: pointer;
            transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
            border: 2px solid transparent;
            position: relative;
            box-shadow: 0 2px 8px rgba(0,0,0,0.08);
        }

        .doc-card:hover {
            transform: translateY(-4px);
            box-shadow: 0 12px 24px rgba(0,0,0,0.12);
            border-color: #667eea;
        }

        .doc-card.selected {
            border-color: #667eea;
            background: linear-gradient(135deg, rgba(102, 126, 234, 0.05) 0%, rgba(118, 75, 162, 0.05) 100%);
        }

        .doc-card-icon {
            width: 100%;
            aspect-ratio: 1.4;
            border-radius: 12px;
            display: flex;
            align-items: center;
            justify-content: center;
            margin-bottom: 16px;
        }

        .doc-icon-label {
            font-size: 24px;
            font-weight: 800;
            letter-spacing: -0.5px;
        }

        .doc-card-info {
            margin-bottom: 16px;
        }

        .doc-card-title {
            font-size: 15px;
            font-weight: 600;
            color: #1a1a1a;
            margin-bottom: 8px;
            line-height: 1.4;
            display: -webkit-box;
            -webkit-line-clamp: 2;
            -webkit-box-orient: vertical;
            overflow: hidden;
        }

        .doc-card-tags {
            display: flex;
            gap: 6px;
            flex-wrap: wrap;
            margin-bottom: 8px;
        }

        .tag-pill-sm {
            font-size: 11px;
            padding: 4px 8px;
            background: rgba(102, 126, 234, 0.1);
            color: #667eea;
            border-radius: 6px;
            font-weight: 600;
        }

        .tag-pill-sm.more {
            background: #f8f9fa;
            color: #6c757d;
        }

        .doc-card-date {
            font-size: 12px;
            color: #6c757d;
        }

        .doc-card-actions {
            display: grid;
            grid-template-columns: repeat(4, 1fr);
            gap: 6px;
            padding-top: 12px;
            border-top: 1px solid #f0f0f0;
        }

        .btn-icon-sm {
            width: 100%;
            height: 32px;
            border: 1px solid #e9ecef;
            background: white;
            border-radius: 6px;
            cursor: pointer;
            display: flex;
            align-items: center;
            justify-content: center;
            color: #6c757d;
            transition: all 0.2s;
        }

        .btn-icon-sm:hover {
            background: #667eea;
            border-color: #667eea;
            color: white;
            transform: translateY(-1px);
            box-shadow: 0 2px 6px rgba(102, 126, 234, 0.3);
        }

        .btn-icon-sm.danger:hover {
            background: #dc3545;
            border-color: #dc3545;
            color: white;
            box-shadow: 0 2px 6px rgba(220, 53, 69, 0.3);
        }

        .doc-card-menu {
            position: relative;
            margin-left: auto;
        }

        .dropdown-menu {
            position: absolute;
            right: 0;
            top: calc(100% + 8px);
            background: white;
            border-radius: 12px;
            box-shadow: 0 8px 24px rgba(0,0,0,0.15);
            padding: 8px;
            min-width: 160px;
            z-index: 10;
        }

        .dropdown-menu button {
            width: 100%;
            padding: 10px 12px;
            border: none;
            background: transparent;
            text-align: left;
            border-radius: 8px;
            font-size: 14px;
            cursor: pointer;
            display: flex;
            align-items: center;
            gap: 8px;
            color: #495057;
            transition: all 0.2s;
        }

        .dropdown-menu button:hover {
            background: #f8f9fa;
        }

        .dropdown-menu button.danger {
            color: #dc3545;
        }

        .dropdown-menu button.danger:hover {
            background: #fee;
        }

        .selection-check {
            position: absolute;
            top: 12px;
            right: 12px;
            width: 24px;
            height: 24px;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            color: white;
            box-shadow: 0 2px 8px rgba(102, 126, 234, 0.4);
        }

        /* List View */
        .document-list {
            display: flex;
            flex-direction: column;
            gap: 12px;
        }

        .doc-list-item {
            background: white;
            border-radius: 12px;
            padding: 16px 20px;
            cursor: pointer;
            transition: all 0.2s;
            border: 2px solid transparent;
            display: flex;
            align-items: center;
            gap: 16px;
            box-shadow: 0 2px 8px rgba(0,0,0,0.06);
        }

        .doc-list-item:hover {
            border-color: #667eea;
            box-shadow: 0 4px 12px rgba(0,0,0,0.1);
        }

        .doc-list-item.selected {
            border-color: #667eea;
            background: linear-gradient(135deg, rgba(102, 126, 234, 0.05) 0%, rgba(118, 75, 162, 0.05) 100%);
        }

        .doc-list-icon {
            width: 48px;
            height: 48px;
            border-radius: 10px;
            display: flex;
            align-items: center;
            justify-content: center;
            flex-shrink: 0;
        }

        .doc-list-info {
            flex: 1;
            min-width: 0;
        }

        .doc-list-title {
            font-size: 15px;
            font-weight: 600;
            color: #1a1a1a;
            margin-bottom: 6px;
            white-space: nowrap;
            overflow: hidden;
            text-overflow: ellipsis;
        }

        .doc-list-meta {
            display: flex;
            align-items: center;
            gap: 12px;
            flex-wrap: wrap;
        }

        .doc-list-tags {
            display: flex;
            gap: 6px;
        }

        .tag-pill {
            font-size: 12px;
            padding: 4px 10px;
            background: rgba(102, 126, 234, 0.1);
            color: #667eea;
            border-radius: 6px;
            font-weight: 600;
        }

        .doc-list-date {
            font-size: 13px;
            color: #6c757d;
        }

        .doc-list-actions {
            display: flex;
            gap: 8px;
        }

        .btn-icon {
            width: 36px;
            height: 36px;
            border: 1px solid #e9ecef;
            background: white;
            border-radius: 8px;
            cursor: pointer;
            display: flex;
            align-items: center;
            justify-content: center;
            color: #495057;
            transition: all 0.2s;
        }

        .btn-icon:hover {
            background: #f8f9fa;
            border-color: #667eea;
            color: #667eea;
        }

        .btn-icon.danger:hover {
            border-color: #dc3545;
            color: #dc3545;
            background: #fee;
        }

        /* Edit Mode */
        .doc-edit {
            display: flex;
            flex-direction: column;
            gap: 10px;
            width: 100%;
        }

        .doc-edit input {
            width: 100%;
            padding: 10px 12px;
            border: 2px solid #e9ecef;
            border-radius: 8px;
            font-size: 14px;
            font-family: inherit;
            transition: all 0.2s;
        }

        .doc-edit input:focus {
            outline: none;
            border-color: #667eea;
            background: white;
        }

        .edit-buttons {
            display: flex;
            gap: 8px;
            justify-content: flex-end;
        }

        .btn-save, .btn-cancel {
            width: 32px;
            height: 32px;
            border: none;
            border-radius: 8px;
            cursor: pointer;
            display: flex;
            align-items: center;
            justify-content: center;
            transition: all 0.2s;
        }

        .btn-save {
            background: #667eea;
            color: white;
        }

        .btn-save:hover {
            background: #5568d3;
        }

        .btn-cancel {
            background: #f8f9fa;
            color: #6c757d;
        }

        .btn-cancel:hover {
            background: #e9ecef;
        }

        .doc-list-edit {
            flex: 1;
            display: flex;
            gap: 12px;
            align-items: center;
        }

        .doc-list-edit input {
            flex: 1;
            padding: 8px 12px;
            border: 2px solid #e9ecef;
            border-radius: 8px;
            font-size: 14px;
        }

        .edit-actions {
            display: flex;
            gap: 8px;
        }

        .btn-icon-sm.success {
            background: #667eea;
            color: white;
            border-color: #667eea;
        }

        .btn-icon-sm.success:hover {
            background: #5568d3;
        }

        /* Upload Modal */
        .modal-overlay {
            position: fixed;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: rgba(0, 0, 0, 0.6);
            backdrop-filter: blur(8px);
            display: flex;
            align-items: center;
            justify-content: center;
            z-index: 1000;
            padding: 20px;
        }

        .modal {
            background: white;
            border-radius: 20px;
            padding: 32px;
            max-width: 520px;
            width: 100%;
            box-shadow: 0 20px 60px rgba(0, 0, 0, 0.3);
        }

        .modal-header {
            text-align: center;
            margin-bottom: 24px;
        }

        .modal-header h2 {
            font-size: 28px;
            font-weight: 700;
            color: #1a1a1a;
            margin-bottom: 8px;
        }

        .modal-header p {
            font-size: 15px;
            color: #6c757d;
        }

        .drop-zone {
            border: 2px dashed #dee2e6;
            border-radius: 16px;
            padding: 48px 24px;
            text-align: center;
            transition: all 0.3s;
            margin-bottom: 24px;
            background: #f8f9fa;
        }

        .drop-zone.dragging {
            border-color: #667eea;
            background: rgba(102, 126, 234, 0.05);
        }

        .drop-icon {
            width: 80px;
            height: 80px;
            margin: 0 auto 20px;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            border-radius: 20px;
            display: flex;
            align-items: center;
            justify-content: center;
            color: white;
        }

        .drop-text {
            font-size: 16px;
            font-weight: 600;
            color: #1a1a1a;
            margin-bottom: 8px;
        }

        .drop-hint {
            font-size: 14px;
            color: #6c757d;
        }

        .modal-actions {
            display: flex;
            gap: 12px;
        }

        .btn-modal {
            flex: 1;
            padding: 14px 24px;
            border: none;
            border-radius: 12px;
            font-size: 15px;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.2s;
        }

        .btn-modal.secondary {
            background: #f8f9fa;
            color: #495057;
        }

        .btn-modal.secondary:hover {
            background: #e9ecef;
        }

        .btn-modal.primary {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            box-shadow: 0 4px 12px rgba(102, 126, 234, 0.3);
        }

        .btn-modal.primary:hover {
            transform: translateY(-2px);
            box-shadow: 0 6px 20px rgba(102, 126, 234, 0.4);
        }

        /* Preview Modal */
        .preview-modal {
            position: fixed;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: rgba(0, 0, 0, 0.8);
            backdrop-filter: blur(10px);
            display: flex;
            align-items: center;
            justify-content: center;
            z-index: 1001;
            padding: 20px;
        }

        .preview-container {
            background: white;
            border-radius: 20px;
            max-width: 1000px;
            width: 100%;
            max-height: 90vh;
            display: flex;
            flex-direction: column;
            overflow: hidden;
            box-shadow: 0 20px 60px rgba(0, 0, 0, 0.5);
        }

        .preview-header {
            padding: 24px 28px;
            border-bottom: 1px solid #f0f0f0;
            display: flex;
            justify-content: space-between;
            align-items: flex-start;
            gap: 20px;
        }

        .preview-info h2 {
            font-size: 24px;
            font-weight: 700;
            color: #1a1a1a;
            margin-bottom: 12px;
        }

        .preview-meta {
            display: flex;
            align-items: center;
            gap: 12px;
            flex-wrap: wrap;
        }

        .btn-close {
            width: 40px;
            height: 40px;
            border: none;
            background: #f8f9fa;
            border-radius: 10px;
            cursor: pointer;
            display: flex;
            align-items: center;
            justify-content: center;
            color: #495057;
            transition: all 0.2s;
        }

        .btn-close:hover {
            background: #e9ecef;
        }

        .preview-body {
            flex: 1;
            overflow: auto;
            background: #f8f9fa;
            display: flex;
            align-items: center;
            justify-content: center;
            padding: 24px;
        }

        .preview-frame {
            width: 100%;
            height: 600px;
            border: none;
            border-radius: 12px;
            background: white;
            box-shadow: 0 4px 12px rgba(0,0,0,0.1);
        }

        .preview-placeholder {
            text-align: center;
            color: #6c757d;
        }

        .preview-placeholder p {
            font-size: 16px;
            margin-bottom: 8px;
        }

        .preview-hint {
            font-size: 14px;
            color: #adb5bd;
        }

        .preview-footer {
            padding: 20px 28px;
            border-top: 1px solid #f0f0f0;
            display: flex;
            justify-content: flex-end;
            gap: 12px;
        }

        /* Empty State */
        .empty-state {
            text-align: center;
            padding: 80px 20px;
        }

        .empty-icon {
            width: 120px;
            height: 120px;
            margin: 0 auto 32px;
            background: linear-gradient(135deg, rgba(102, 126, 234, 0.1) 0%, rgba(118, 75, 162, 0.1) 100%);
            border-radius: 30px;
            display: flex;
            align-items: center;
            justify-content: center;
            color: #667eea;
        }

        .empty-state h2 {
            font-size: 32px;
            font-weight: 700;
            color: white;
            margin-bottom: 12px;
        }

        .empty-state p {
            font-size: 16px;
            color: rgba(255,255,255,0.8);
            margin-bottom: 32px;
            max-width: 400px;
            margin-left: auto;
            margin-right: auto;
            line-height: 1.6;
        }

        /* Drag Overlay */
        .drag-overlay {
            position: fixed;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: linear-gradient(135deg, rgba(102, 126, 234, 0.95) 0%, rgba(118, 75, 162, 0.95) 100%);
            backdrop-filter: blur(10px);
            display: flex;
            align-items: center;
            justify-content: center;
            z-index: 999;
            pointer-events: none;
        }

        .drag-content {
            text-align: center;
            color: white;
        }

        .drag-content-icon {
            width: 120px;
            height: 120px;
            margin: 0 auto 24px;
            background: rgba(255, 255, 255, 0.2);
            border-radius: 30px;
            display: flex;
            align-items: center;
            justify-content: center;
        }

        .drag-content h2 {
            font-size: 36px;
            font-weight: 700;
            margin-bottom: 12px;
        }

        .drag-content p {
            font-size: 18px;
            opacity: 0.9;
        }

        input[type="file"] {
            display: none;
        }

        /* Scroll to Top Button */
        .scroll-to-top {
            position: fixed;
            bottom: 30px;
            right: 30px;
            width: 56px;
            height: 56px;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            border: none;
            border-radius: 50%;
            cursor: pointer;
            display: flex;
            align-items: center;
            justify-content: center;
            box-shadow: 0 4px 16px rgba(102, 126, 234, 0.4);
            transition: all 0.3s;
            z-index: 98;
            opacity: 0;
            visibility: hidden;
        }

        .scroll-to-top.visible {
            opacity: 1;
            visibility: visible;
        }

        .scroll-to-top:hover {
            transform: translateY(-4px);
            box-shadow: 0 6px 24px rgba(102, 126, 234, 0.5);
        }

        .scroll-to-top:active {
            transform: translateY(-2px);
        }

        /* Icons */
        svg {
            flex-shrink: 0;
        }

        /* Responsive */
        @media (max-width: 968px) {
            .view-toggle {
                display: none;
            }

            .document-grid {
                grid-template-columns: repeat(auto-fill, minmax(160px, 1fr));
                gap: 16px;
            }

            .stat-value {
                font-size: 24px;
            }

            .search-container {
                top: 68px;
            }

            .security-badge {
                width: 100%;
            }
        }

        @media (max-width: 640px) {
            .header-container {
                padding: 12px 16px;
            }

            .logo h1 {
                font-size: 20px;
            }

            .logo-icon {
                width: 36px;
                height: 36px;
            }

            .search-wrapper {
                padding: 12px 16px;
            }

            .search-container {
                top: 60px;
            }

            .main-content {
                padding: 16px;
            }

            .document-grid {
                grid-template-columns: repeat(auto-fill, minmax(140px, 1fr));
                gap: 12px;
            }

            .doc-card {
                padding: 16px;
            }

            .doc-stats {
                gap: 16px;
                width: 100%;
            }

            .stat-label {
                font-size: 11px;
            }

            .stat-value {
                font-size: 20px;
            }

            .modal {
                padding: 24px;
            }

            .selection-bar {
                flex-direction: column;
                align-items: flex-start;
            }

            .doc-list-item {
                padding: 12px 16px;
            }

            .doc-list-actions {
                flex-wrap: wrap;
            }

            .scroll-to-top {
                bottom: 20px;
                right: 20px;
                width: 48px;
                height: 48px;
            }

            .security-badge {
                width: 100%;
            }

            .security-description {
                font-size: 10px;
            }
        }
    </style>
</head>
<body>
    <div id="root"></div>

    <script type="text/babel">
        const { useState, useEffect, useRef } = React;

        // Lucide Icons as SVG components
        const Icon = ({ name, size = 24, ...props }) => {
            const icons = {
                Upload: <svg width={size} height={size} viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round" {...props}><path d="M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"/><polyline points="17 8 12 3 7 8"/><line x1="12" y1="3" x2="12" y2="15"/></svg>,
                X: <svg width={size} height={size} viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round" {...props}><line x1="18" y1="6" x2="6" y2="18"/><line x1="6" y1="6" x2="18" y2="18"/></svg>,
                Download: <svg width={size} height={size} viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round" {...props}><path d="M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"/><polyline points="7 10 12 15 17 10"/><line x1="12" y1="15" x2="12" y2="3"/></svg>,
                Eye: <svg width={size} height={size} viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round" {...props}><path d="M1 12s4-8 11-8 11 8 11 8-4 8-11 8-11-8-11-8z"/><circle cx="12" cy="12" r="3"/></svg>,
                Search: <svg width={size} height={size} viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round" {...props}><circle cx="11" cy="11" r="8"/><path d="m21 21-4.35-4.35"/></svg>,
                FileText: <svg width={size} height={size} viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round" {...props}><path d="M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"/><polyline points="14 2 14 8 20 8"/><line x1="16" y1="13" x2="8" y2="13"/><line x1="16" y1="17" x2="8" y2="17"/><line x1="10" y1="9" x2="8" y2="9"/></svg>,
                Trash2: <svg width={size} height={size} viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round" {...props}><polyline points="3 6 5 6 21 6"/><path d="M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6m3 0V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2"/><line x1="10" y1="11" x2="10" y2="17"/><line x1="14" y1="11" x2="14" y2="17"/></svg>,
                Edit3: <svg width={size} height={size} viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round" {...props}><path d="M12 20h9"/><path d="M16.5 3.5a2.121 2.121 0 0 1 3 3L7 19l-4 1 1-4L16.5 3.5z"/></svg>,
                Check: <svg width={size} height={size} viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round" {...props}><polyline points="20 6 9 17 4 12"/></svg>,
                Plus: <svg width={size} height={size} viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round" {...props}><line x1="12" y1="5" x2="12" y2="19"/><line x1="5" y1="12" x2="19" y2="12"/></svg>,
                Filter: <svg width={size} height={size} viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round" {...props}><polygon points="22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3"/></svg>,
                Grid: <svg width={size} height={size} viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round" {...props}><rect x="3" y="3" width="7" height="7"/><rect x="14" y="3" width="7" height="7"/><rect x="14" y="14" width="7" height="7"/><rect x="3" y="14" width="7" height="7"/></svg>,
                List: <svg width={size} height={size} viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round" {...props}><line x1="8" y1="6" x2="21" y2="6"/><line x1="8" y1="12" x2="21" y2="12"/><line x1="8" y1="18" x2="21" y2="18"/><line x1="3" y1="6" x2="3.01" y2="6"/><line x1="3" y1="12" x2="3.01" y2="12"/><line x1="3" y1="18" x2="3.01" y2="18"/></svg>,
                Menu: <svg width={size} height={size} viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round" {...props}><line x1="3" y1="12" x2="21" y2="12"/><line x1="3" y1="6" x2="21" y2="6"/><line x1="3" y1="18" x2="21" y2="18"/></svg>,
                ChevronUp: <svg width={size} height={size} viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round" {...props}><polyline points="18 15 12 9 6 15"/></svg>,
                Shield: <svg width={size} height={size} viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round" {...props}><path d="M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10z"/></svg>,
                ChevronDown: <svg width={size} height={size} viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round" {...props}><polyline points="6 9 12 15 18 9"/></svg>,
            };
            return icons[name] || null;
        };

        // IndexedDB setup
        const DB_NAME = 'ResumeVault';
        const DB_VERSION = 1;
        const STORE_NAME = 'documents';

        const initDB = () => {
            return new Promise((resolve, reject) => {
                const request = indexedDB.open(DB_NAME, DB_VERSION);
                
                request.onerror = () => reject(request.error);
                request.onsuccess = () => resolve(request.result);
                
                request.onupgradeneeded = (event) => {
                    const db = event.target.result;
                    if (!db.objectStoreNames.contains(STORE_NAME)) {
                        const store = db.createObjectStore(STORE_NAME, { keyPath: 'id', autoIncrement: true });
                        store.createIndex('title', 'title', { unique: false });
                        store.createIndex('tags', 'tags', { unique: false, multiEntry: true });
                    }
                };
            });
        };

        const saveDocument = async (doc) => {
            const db = await initDB();
            return new Promise((resolve, reject) => {
                const transaction = db.transaction([STORE_NAME], 'readwrite');
                const store = transaction.objectStore(STORE_NAME);
                const request = store.add(doc);
                request.onsuccess = () => resolve(request.result);
                request.onerror = () => reject(request.error);
            });
        };

        const getAllDocuments = async () => {
            const db = await initDB();
            return new Promise((resolve, reject) => {
                const transaction = db.transaction([STORE_NAME], 'readonly');
                const store = transaction.objectStore(STORE_NAME);
                const request = store.getAll();
                request.onsuccess = () => resolve(request.result);
                request.onerror = () => reject(request.error);
            });
        };

        const deleteDocument = async (id) => {
            const db = await initDB();
            return new Promise((resolve, reject) => {
                const transaction = db.transaction([STORE_NAME], 'readwrite');
                const store = transaction.objectStore(STORE_NAME);
                const request = store.delete(id);
                request.onsuccess = () => resolve();
                request.onerror = () => reject(request.error);
            });
        };

        const updateDocument = async (id, updates) => {
            const db = await initDB();
            return new Promise((resolve, reject) => {
                const transaction = db.transaction([STORE_NAME], 'readwrite');
                const store = transaction.objectStore(STORE_NAME);
                const getRequest = store.get(id);
                
                getRequest.onsuccess = () => {
                    const doc = getRequest.result;
                    const updated = { ...doc, ...updates };
                    const putRequest = store.put(updated);
                    putRequest.onsuccess = () => resolve(updated);
                    putRequest.onerror = () => reject(putRequest.error);
                };
                getRequest.onerror = () => reject(getRequest.error);
            });
        };

        // File type icon mapping
        const getFileIcon = (fileType) => {
            if (fileType === 'application/pdf') return { color: '#FF3B30', label: 'PDF', bg: '#FFE5E5' };
            if (fileType.includes('word') || fileType.includes('document')) return { color: '#007AFF', label: 'DOC', bg: '#E5F1FF' };
            if (fileType === 'text/plain') return { color: '#34C759', label: 'TXT', bg: '#E5F9EC' };
            return { color: '#8E8E93', label: 'FILE', bg: '#F5F5F7' };
        };

        const DocumentCard = ({ doc, isSelected, onClick, onAction, onDownload, onView, viewMode }) => {
            const [isEditing, setIsEditing] = useState(false);
            const [editTitle, setEditTitle] = useState(doc.title);
            const [editTags, setEditTags] = useState(doc.tags.join(', '));
            const fileIcon = getFileIcon(doc.fileType);

            const handleSave = async () => {
                const tags = editTags.split(',').map(t => t.trim().toLowerCase()).filter(t => t);
                await onAction('update', doc.id, { title: editTitle, tags });
                setIsEditing(false);
            };

            const handleKeyDown = (e) => {
                if (e.key === 'Enter' && !e.shiftKey) {
                    e.preventDefault();
                    handleSave();
                } else if (e.key === 'Escape') {
                    setIsEditing(false);
                    setEditTitle(doc.title);
                    setEditTags(doc.tags.join(', '));
                }
            };

            if (viewMode === 'list') {
                return (
                    <div 
                        className={`doc-list-item ${isSelected ? 'selected' : ''}`}
                        onClick={() => !isEditing && onClick(doc)}
                    >
                        <div className="doc-list-icon" style={{ backgroundColor: fileIcon.bg, color: fileIcon.color }}>
                            <Icon name="FileText" size={20} />
                        </div>
                        
                        {isEditing ? (
                            <div className="doc-list-edit" onClick={(e) => e.stopPropagation()}>
                                <input
                                    type="text"
                                    value={editTitle}
                                    onChange={(e) => setEditTitle(e.target.value)}
                                    onKeyDown={handleKeyDown}
                                    placeholder="Document name"
                                    autoFocus
                                />
                                <input
                                    type="text"
                                    value={editTags}
                                    onChange={(e) => setEditTags(e.target.value)}
                                    onKeyDown={handleKeyDown}
                                    placeholder="Tags (comma-separated)"
                                />
                                <div className="edit-actions">
                                    <button onClick={handleSave} className="btn-icon-sm success">
                                        <Icon name="Check" size={16} />
                                    </button>
                                    <button onClick={() => {
                                        setIsEditing(false);
                                        setEditTitle(doc.title);
                                        setEditTags(doc.tags.join(', '));
                                    }} className="btn-icon-sm">
                                        <Icon name="X" size={16} />
                                    </button>
                                </div>
                            </div>
                        ) : (
                            <>
                                <div className="doc-list-info">
                                    <h3 className="doc-list-title">{doc.title}</h3>
                                    <div className="doc-list-meta">
                                        {doc.tags.length > 0 && (
                                            <div className="doc-list-tags">
                                                {doc.tags.map((tag, i) => (
                                                    <span key={i} className="tag-pill">{tag}</span>
                                                ))}
                                            </div>
                                        )}
                                        <span className="doc-list-date">{new Date(doc.uploadDate).toLocaleDateString('en-US', { month: 'short', day: 'numeric', year: 'numeric' })}</span>
                                    </div>
                                </div>
                                
                                <div className="doc-list-actions" onClick={(e) => e.stopPropagation()}>
                                    <button onClick={() => onView(doc)} className="btn-icon" title="View">
                                        <Icon name="Eye" size={18} />
                                    </button>
                                    <button onClick={() => onDownload(doc)} className="btn-icon" title="Download">
                                        <Icon name="Download" size={18} />
                                    </button>
                                    <button onClick={() => setIsEditing(true)} className="btn-icon" title="Edit">
                                        <Icon name="Edit3" size={18} />
                                    </button>
                                    <button onClick={() => onAction('delete', doc.id)} className="btn-icon danger" title="Delete">
                                        <Icon name="Trash2" size={18} />
                                    </button>
                                </div>
                            </>
                        )}
                    </div>
                );
            }

            return (
                <div 
                    className={`doc-card ${isSelected ? 'selected' : ''}`}
                    onClick={() => !isEditing && onClick(doc)}
                >
                    <div className="doc-card-icon" style={{ backgroundColor: fileIcon.bg }}>
                        <div className="doc-icon-label" style={{ color: fileIcon.color }}>
                            {fileIcon.label}
                        </div>
                    </div>
                    
                    {isEditing ? (
                        <div className="doc-edit" onClick={(e) => e.stopPropagation()}>
                            <input
                                type="text"
                                value={editTitle}
                                onChange={(e) => setEditTitle(e.target.value)}
                                onKeyDown={handleKeyDown}
                                placeholder="Document name"
                                autoFocus
                            />
                            <input
                                type="text"
                                value={editTags}
                                onChange={(e) => setEditTags(e.target.value)}
                                onKeyDown={handleKeyDown}
                                placeholder="Tags (comma-separated)"
                            />
                            <div className="edit-buttons">
                                <button onClick={handleSave} className="btn-save">
                                    <Icon name="Check" size={14} />
                                </button>
                                <button onClick={() => {
                                    setIsEditing(false);
                                    setEditTitle(doc.title);
                                    setEditTags(doc.tags.join(', '));
                                }} className="btn-cancel">
                                    <Icon name="X" size={14} />
                                </button>
                            </div>
                        </div>
                    ) : (
                        <>
                            <div className="doc-card-info">
                                <h3 className="doc-card-title">{doc.title}</h3>
                                {doc.tags.length > 0 && (
                                    <div className="doc-card-tags">
                                        {doc.tags.slice(0, 2).map((tag, i) => (
                                            <span key={i} className="tag-pill-sm">{tag}</span>
                                        ))}
                                        {doc.tags.length > 2 && (
                                            <span className="tag-pill-sm more">+{doc.tags.length - 2}</span>
                                        )}
                                    </div>
                                )}
                                <div className="doc-card-date">{new Date(doc.uploadDate).toLocaleDateString('en-US', { month: 'short', day: 'numeric' })}</div>
                            </div>
                            
                            <div className="doc-card-actions" onClick={(e) => e.stopPropagation()}>
                                <button onClick={() => onView(doc)} className="btn-icon-sm" title="View">
                                    <Icon name="Eye" size={14} />
                                </button>
                                <button onClick={() => onDownload(doc)} className="btn-icon-sm" title="Download">
                                    <Icon name="Download" size={14} />
                                </button>
                                <button onClick={() => setIsEditing(true)} className="btn-icon-sm" title="Edit">
                                    <Icon name="Edit3" size={14} />
                                </button>
                                <button onClick={() => onAction('delete', doc.id)} className="btn-icon-sm danger" title="Delete">
                                    <Icon name="Trash2" size={14} />
                                </button>
                            </div>
                        </>
                    )}
                    
                    {isSelected && (
                        <div className="selection-check">
                            <Icon name="Check" size={14} />
                        </div>
                    )}
                </div>
            );
        };

        function ResumeManager() {
            const [documents, setDocuments] = useState([]);
            const [filteredDocs, setFilteredDocs] = useState([]);
            const [selectedDoc, setSelectedDoc] = useState(null);
            const [searchQuery, setSearchQuery] = useState('');
            const [selectedTags, setSelectedTags] = useState([]);
            const [isDragging, setIsDragging] = useState(false);
            const [showUploadModal, setShowUploadModal] = useState(false);
            const [viewingDoc, setViewingDoc] = useState(null);
            const [viewMode, setViewMode] = useState('grid');
            const [showScrollTop, setShowScrollTop] = useState(false);
            const [showAllTags, setShowAllTags] = useState(false);
            const fileInputRef = useRef(null);

            useEffect(() => {
                loadDocuments();
            }, []);

            useEffect(() => {
                filterDocuments();
            }, [documents, searchQuery, selectedTags]);

            useEffect(() => {
                const handleScroll = () => {
                    setShowScrollTop(window.scrollY > 300);
                };

                window.addEventListener('scroll', handleScroll);
                return () => window.removeEventListener('scroll', handleScroll);
            }, []);

            const loadDocuments = async () => {
                const docs = await getAllDocuments();
                setDocuments(docs);
            };

            const filterDocuments = () => {
                let filtered = documents;

                if (searchQuery) {
                    filtered = filtered.filter(doc =>
                        doc.title.toLowerCase().includes(searchQuery.toLowerCase()) ||
                        doc.tags.some(tag => tag.toLowerCase().includes(searchQuery.toLowerCase()))
                    );
                }

                if (selectedTags.length > 0) {
                    filtered = filtered.filter(doc =>
                        selectedTags.every(tag => doc.tags.includes(tag))
                    );
                }

                setFilteredDocs(filtered);
            };

            const handleFileUpload = async (files) => {
                for (const file of files) {
                    const reader = new FileReader();
                    reader.onload = async (e) => {
                        const base64 = e.target.result.split(',')[1];
                        
                        const doc = {
                            title: file.name.replace(/\.[^/.]+$/, ''),
                            fileName: file.name,
                            fileType: file.type,
                            fileData: base64,
                            fileSize: file.size,
                            tags: [],
                            uploadDate: new Date().toISOString()
                        };
                        
                        await saveDocument(doc);
                        await loadDocuments();
                    };
                    reader.readAsDataURL(file);
                }
                setShowUploadModal(false);
            };

            const handleDragOver = (e) => {
                e.preventDefault();
                setIsDragging(true);
            };

            const handleDragLeave = (e) => {
                if (e.currentTarget === e.target) {
                    setIsDragging(false);
                }
            };

            const handleDrop = (e) => {
                e.preventDefault();
                setIsDragging(false);
                const files = Array.from(e.dataTransfer.files).filter(file =>
                    file.type === 'application/pdf' ||
                    file.type.includes('word') ||
                    file.type.includes('document') ||
                    file.type === 'text/plain'
                );
                if (files.length > 0) {
                    handleFileUpload(files);
                }
            };

            const handleFileSelect = (e) => {
                const files = Array.from(e.target.files);
                handleFileUpload(files);
            };

            const handleDocAction = async (action, id, data) => {
                if (action === 'delete') {
                    await deleteDocument(id);
                    if (selectedDoc === id) {
                        setSelectedDoc(null);
                    }
                    await loadDocuments();
                } else if (action === 'update') {
                    await updateDocument(id, data);
                    await loadDocuments();
                }
            };

            const toggleSelection = (doc) => {
                if (selectedDoc === doc.id) {
                    setSelectedDoc(null);
                } else {
                    setSelectedDoc(doc.id);
                }
            };

            const base64ToBlob = (base64, mimeType) => {
                try {
                    const byteCharacters = atob(base64);
                    const byteNumbers = new Array(byteCharacters.length);
                    for (let i = 0; i < byteCharacters.length; i++) {
                        byteNumbers[i] = byteCharacters.charCodeAt(i);
                    }
                    const byteArray = new Uint8Array(byteNumbers);
                    return new Blob([byteArray], { type: mimeType });
                } catch (err) {
                    console.error('Error converting base64 to blob:', err);
                    return null;
                }
            };

            const handleSingleDownload = (doc) => {
                const blob = base64ToBlob(doc.fileData, doc.fileType);
                if (blob) {
                    const url = URL.createObjectURL(blob);
                    const a = document.createElement('a');
                    a.href = url;
                    a.download = doc.fileName;
                    document.body.appendChild(a);
                    a.click();
                    document.body.removeChild(a);
                    setTimeout(() => URL.revokeObjectURL(url), 100);
                }
            };

            const handleView = (doc) => {
                setViewingDoc(doc);
            };

            const toggleTag = (tag) => {
                setSelectedTags(prev =>
                    prev.includes(tag) ? prev.filter(t => t !== tag) : [...prev, tag]
                );
            };

            const scrollToTop = () => {
                window.scrollTo({ top: 0, behavior: 'smooth' });
            };

            const allTags = [...new Set(documents.flatMap(doc => doc.tags))].sort();
            const MAX_VISIBLE_TAGS = 8;
            const visibleTags = showAllTags ? allTags : allTags.slice(0, MAX_VISIBLE_TAGS);
            const hasMoreTags = allTags.length > MAX_VISIBLE_TAGS;

            return (
                <div 
                    className="app"
                    onDragOver={handleDragOver}
                    onDragLeave={handleDragLeave}
                    onDrop={handleDrop}
                >
                    {isDragging && (
                        <div className="drag-overlay">
                            <div className="drag-content">
                                <div className="drag-content-icon">
                                    <Icon name="Upload" size={64} />
                                </div>
                                <h2>Drop files here</h2>
                                <p>Release to upload your documents</p>
                            </div>
                        </div>
                    )}

                    <div className="header">
                        <div className="header-container">
                            <div className="logo">
                                <div className="logo-icon">
                                    <Icon name="FileText" size={24} />
                                </div>
                                <h1>Sync Doc</h1>
                            </div>

                            <div className="header-actions">
                                <div className="view-toggle">
                                    <button 
                                        className={`view-btn ${viewMode === 'grid' ? 'active' : ''}`}
                                        onClick={() => setViewMode('grid')}
                                    >
                                        <Icon name="Grid" size={18} />
                                    </button>
                                    <button 
                                        className={`view-btn ${viewMode === 'list' ? 'active' : ''}`}
                                        onClick={() => setViewMode('list')}
                                    >
                                        <Icon name="List" size={18} />
                                    </button>
                                </div>

                                <button className="btn-primary" onClick={() => setShowUploadModal(true)}>
                                    <Icon name="Plus" size={20} />
                                    <span>Upload</span>
                                </button>
                            </div>
                        </div>
                    </div>

                    <div className="search-container">
                        <div className="search-wrapper">
                            <div className="header-search">
                                <Icon name="Search" className="search-icon" size={20} />
                                <input
                                    type="text"
                                    placeholder="Search documents..."
                                    value={searchQuery}
                                    onChange={(e) => setSearchQuery(e.target.value)}
                                />
                            </div>
                        </div>
                    </div>

                    <div className="main-content">
                        <div className="content-header">
                            <div className="doc-stats">
                                <div className="stat-item">
                                    <span className="stat-label">Total Documents</span>
                                    <span className="stat-value">{documents.length}</span>
                                </div>
                                {filteredDocs.length !== documents.length && (
                                    <div className="stat-item">
                                        <span className="stat-label">Filtered</span>
                                        <span className="stat-value">{filteredDocs.length}</span>
                                    </div>
                                )}
                                <div className="security-badge">
                                    <div className="security-icon">
                                        <Icon name="Shield" size={18} />
                                    </div>
                                    <div className="security-text">
                                        <div className="security-title">100% Secure</div>
                                        <div className="security-description">Data stored locally on your device</div>
                                    </div>
                                </div>
                            </div>
                        </div>

                        {allTags.length > 0 && (
                            <div className="filter-bar">
                                <div className="filter-header">
                                    <div className="filter-title">
                                        <Icon name="Filter" size={16} />
                                        Filter by tags
                                    </div>
                                    <div className="filter-actions">
                                        {selectedTags.length > 0 && (
                                            <button className="clear-filters" onClick={() => setSelectedTags([])}>
                                                Clear filters
                                            </button>
                                        )}
                                        {hasMoreTags && (
                                            <button className="show-more-btn" onClick={() => setShowAllTags(!showAllTags)}>
                                                {showAllTags ? 'Show less' : `Show all (${allTags.length})`}
                                                <Icon name={showAllTags ? "ChevronUp" : "ChevronDown"} size={14} style={{marginLeft: '4px'}} />
                                            </button>
                                        )}
                                    </div>
                                </div>
                                <div className="tag-filters">
                                    {visibleTags.map(tag => (
                                        <button
                                            key={tag}
                                            className={`tag-filter ${selectedTags.includes(tag) ? 'active' : ''}`}
                                            onClick={() => toggleTag(tag)}
                                        >
                                            {tag}
                                        </button>
                                    ))}
                                </div>
                            </div>
                        )}

                        {filteredDocs.length === 0 && documents.length === 0 ? (
                            <div className="empty-state">
                                <div className="empty-icon">
                                    <Icon name="FileText" size={56} />
                                </div>
                                <h2>No documents yet</h2>
                                <p>Upload your first document to get started with organizing your files</p>
                                <button className="btn-primary" onClick={() => setShowUploadModal(true)}>
                                    <Icon name="Plus" size={20} />
                                    Upload Document
                                </button>
                            </div>
                        ) : filteredDocs.length === 0 ? (
                            <div className="empty-state">
                                <div className="empty-icon">
                                    <Icon name="Search" size={56} />
                                </div>
                                <h2>No results found</h2>
                                <p>Try adjusting your search or filters to find what you're looking for</p>
                            </div>
                        ) : (
                            <div className={viewMode === 'grid' ? 'document-grid' : 'document-list'}>
                                {filteredDocs.map(doc => (
                                    <DocumentCard
                                        key={doc.id}
                                        doc={doc}
                                        isSelected={selectedDoc === doc.id}
                                        onClick={toggleSelection}
                                        onAction={handleDocAction}
                                        onDownload={handleSingleDownload}
                                        onView={handleView}
                                        viewMode={viewMode}
                                    />
                                ))}
                            </div>
                        )}
                    </div>

                    {showUploadModal && (
                        <div className="modal-overlay" onClick={() => setShowUploadModal(false)}>
                            <div className="modal" onClick={(e) => e.stopPropagation()}>
                                <div className="modal-header">
                                    <h2>Upload Documents</h2>
                                    <p>Add PDF, Word, or text files to your library</p>
                                </div>
                                <div className={`drop-zone ${isDragging ? 'dragging' : ''}`}>
                                    <div className="drop-icon">
                                        <Icon name="Upload" size={40} />
                                    </div>
                                    <div className="drop-text">Drag and drop files here</div>
                                    <div className="drop-hint">or click browse to select files</div>
                                </div>
                                <div className="modal-actions">
                                    <button className="btn-modal secondary" onClick={() => setShowUploadModal(false)}>
                                        Cancel
                                    </button>
                                    <button className="btn-modal primary" onClick={() => fileInputRef.current?.click()}>
                                        Browse Files
                                    </button>
                                </div>
                                <input
                                    ref={fileInputRef}
                                    type="file"
                                    multiple
                                    accept=".pdf,.doc,.docx,.txt"
                                    onChange={handleFileSelect}
                                />
                            </div>
                        </div>
                    )}

                    {viewingDoc && (
                        <div className="preview-modal" onClick={() => setViewingDoc(null)}>
                            <div className="preview-container" onClick={(e) => e.stopPropagation()}>
                                <div className="preview-header">
                                    <div className="preview-info">
                                        <h2>{viewingDoc.title}</h2>
                                        <div className="preview-meta">
                                            {viewingDoc.tags.length > 0 && (
                                                <div className="preview-tags">
                                                    {viewingDoc.tags.map((tag, i) => (
                                                        <span key={i} className="tag-pill">{tag}</span>
                                                    ))}
                                                </div>
                                            )}
                                            <span className="doc-list-date">
                                                {new Date(viewingDoc.uploadDate).toLocaleDateString('en-US', { 
                                                    month: 'long', 
                                                    day: 'numeric', 
                                                    year: 'numeric' 
                                                })}
                                            </span>
                                        </div>
                                    </div>
                                    <button onClick={() => setViewingDoc(null)} className="btn-close">
                                        <Icon name="X" size={24} />
                                    </button>
                                </div>
                                <div className="preview-body">
                                    {viewingDoc.fileType === 'application/pdf' || viewingDoc.fileType === 'text/plain' ? (
                                        <iframe 
                                            src={URL.createObjectURL(base64ToBlob(viewingDoc.fileData, viewingDoc.fileType))} 
                                            className="preview-frame"
                                            title={viewingDoc.title}
                                        />
                                    ) : (
                                        <div className="preview-placeholder">
                                            <Icon name="FileText" size={64} />
                                            <p>Preview not available for this file type</p>
                                            <p className="preview-hint">Click download to view the file</p>
                                        </div>
                                    )}
                                </div>
                                <div className="preview-footer">
                                    <div style={{ flex: 1, fontSize: '14px', color: '#6c757d' }}>
                                        {viewingDoc.fileType === 'application/pdf' && (
                                            <span style={{ marginRight: '16px' }}>
                                                 PDF Document
                                            </span>
                                        )}
                                        <span>
                                             Size: {(viewingDoc.fileSize / 1024).toFixed(2)} KB
                                        </span>
                                    </div>
                                    <button onClick={() => handleSingleDownload(viewingDoc)} className="btn-primary">
                                        <Icon name="Download" size={18} />
                                        Download
                                    </button>
                                </div>
                            </div>
                        </div>
                    )}

                    {showScrollTop && (
                        <button className="scroll-to-top visible" onClick={scrollToTop} title="Scroll to top">
                            <Icon name="ChevronUp" size={24} />
                        </button>
                    )}
                </div>
            );
        }

        ReactDOM.render(<ResumeManager />, document.getElementById('root'));
    </script>
</body>
</html>
