<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Green Harvest Foods - Indian Pickles & Traditional Foods</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <style>
        :root {
            --primary: #2d5016;
            --primary-light: #4a7c2c;
            --secondary: #e8b923;
            --accent: #d32f2f;
            --light: #f9f7f2;
            --dark: #1a1a1a;
            --gray: #666;
            --light-gray: #e9e9e9;
            --border-radius: 12px;
            --shadow: 0 4px 12px rgba(0, 0, 0, 0.08);
            --transition: all 0.3s ease;
        }

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Segoe UI', system-ui, -apple-system, sans-serif;
            background: var(--light);
            color: var(--dark);
            line-height: 1.6;
        }

        /* Header */
        .header {
            position: sticky;
            top: 0;
            z-index: 100;
            background: white;
            box-shadow: var(--shadow);
            padding: 12px 0;
        }

        .header-container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 0 16px;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        .logo {
            display: flex;
            align-items: center;
            gap: 12px;
        }

        .logo-icon {
            font-size: 28px;
            color: var(--primary);
        }

        .logo-text h1 {
            font-size: 20px;
            font-weight: 700;
            color: var(--primary);
        }

        .logo-text p {
            font-size: 11px;
            color: var(--gray);
            margin-top: 2px;
        }

        .header-actions {
            display: flex;
            align-items: center;
            gap: 16px;
        }

        .cart-btn {
            position: relative;
            background: none;
            border: none;
            font-size: 22px;
            color: var(--primary);
            cursor: pointer;
            padding: 8px;
        }

        .cart-count {
            position: absolute;
            top: -2px;
            right: -2px;
            background: var(--accent);
            color: white;
            border-radius: 50%;
            width: 20px;
            height: 20px;
            font-size: 12px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-weight: 700;
        }

        .menu-toggle {
            display: none;
            background: none;
            border: none;
            font-size: 22px;
            color: var(--primary);
            cursor: pointer;
        }

        /* Banner */
        .banner {
            max-width: 1200px;
            margin: 16px auto;
            padding: 0 16px;
            position: relative;
            overflow: hidden;
            border-radius: var(--border-radius);
            box-shadow: var(--shadow);
            height: 180px;
        }

        .banner-slide {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            display: flex;
            flex-direction: column;
            justify-content: center;
            padding: 24px;
            opacity: 0;
            transition: opacity 0.5s ease;
            border-radius: var(--border-radius);
        }

        .banner-slide.active {
            opacity: 1;
        }

        .banner-slide:nth-child(1) { background: linear-gradient(135deg, #667eea 0%, #764ba2 100%); }
        .banner-slide:nth-child(2) { background: linear-gradient(135deg, #f093fb 0%, #f5576c 100%); }
        .banner-slide:nth-child(3) { background: linear-gradient(135deg, #4facfe 0%, #00f2fe 100%); }

        .banner-title {
            font-size: 22px;
            font-weight: 700;
            color: white;
            margin-bottom: 8px;
            text-shadow: 0 2px 4px rgba(0,0,0,0.2);
        }

        .banner-subtitle {
            font-size: 14px;
            color: rgba(255,255,255,0.9);
            max-width: 80%;
        }

        .banner-dots {
            position: absolute;
            bottom: 16px;
            left: 50%;
            transform: translateX(-50%);
            display: flex;
            gap: 8px;
        }

        .banner-dot {
            width: 10px;
            height: 10px;
            border-radius: 50%;
            background: rgba(255,255,255,0.5);
            cursor: pointer;
            transition: var(--transition);
        }

        .banner-dot.active {
            background: white;
            transform: scale(1.2);
        }

        /* Categories */
        .categories {
            max-width: 1200px;
            margin: 20px auto;
            padding: 0 16px;
        }

        .categories-scroll {
            display: flex;
            gap: 10px;
            overflow-x: auto;
            padding-bottom: 8px;
            scrollbar-width: none;
        }

        .categories-scroll::-webkit-scrollbar {
            display: none;
        }

        .category-btn {
            flex-shrink: 0;
            background: white;
            border: 1px solid var(--light-gray);
            border-radius: 50px;
            padding: 10px 20px;
            font-size: 14px;
            font-weight: 600;
            color: var(--gray);
            cursor: pointer;
            transition: var(--transition);
            display: flex;
            align-items: center;
            gap: 8px;
        }

        .category-btn.active {
            background: var(--primary);
            color: white;
            border-color: var(--primary);
        }

        .category-btn i {
            font-size: 16px;
        }

        /* Filters */
        .filters-container {
            max-width: 1200px;
            margin: 16px auto;
            padding: 0 16px;
        }

        .filters-toggle {
            width: 100%;
            background: white;
            border: 1px solid var(--light-gray);
            border-radius: var(--border-radius);
            padding: 14px 20px;
            font-size: 16px;
            font-weight: 600;
            color: var(--dark);
            cursor: pointer;
            display: flex;
            justify-content: space-between;
            align-items: center;
            transition: var(--transition);
        }

        .filters-toggle:hover {
            border-color: var(--primary);
        }

        .filters-toggle i {
            transition: var(--transition);
        }

        .filters-toggle.active i {
            transform: rotate(180deg);
        }

        .filters-content {
            max-height: 0;
            overflow: hidden;
            transition: max-height 0.4s ease;
            background: white;
            border-radius: 0 0 var(--border-radius) var(--border-radius);
            margin-top: -1px;
            border: 1px solid var(--light-gray);
            border-top: none;
        }

        .filters-content.show {
            max-height: 500px;
        }

        .filters-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(200px, 1fr));
            gap: 20px;
            padding: 20px;
        }

        .filter-group {
            margin-bottom: 16px;
        }

        .filter-label {
            display: block;
            font-size: 14px;
            font-weight: 600;
            color: var(--dark);
            margin-bottom: 8px;
        }

        .filter-select, .filter-input {
            width: 100%;
            padding: 10px 12px;
            border: 1px solid var(--light-gray);
            border-radius: 8px;
            font-size: 14px;
            color: var(--dark);
            transition: var(--transition);
        }

        .filter-select:focus, .filter-input:focus {
            outline: none;
            border-color: var(--primary);
        }

        .price-inputs {
            display: flex;
            gap: 10px;
            align-items: center;
        }

        .price-inputs input {
            flex: 1;
        }

        .filter-actions {
            grid-column: 1 / -1;
            display: flex;
            gap: 12px;
            margin-top: 10px;
        }

        .btn {
            padding: 12px 20px;
            border-radius: 8px;
            font-size: 14px;
            font-weight: 600;
            cursor: pointer;
            transition: var(--transition);
            border: none;
        }

        .btn-primary {
            flex: 2;
            background: var(--primary);
            color: white;
        }

        .btn-primary:hover {
            background: var(--primary-light);
        }

        .btn-secondary {
            flex: 1;
            background: var(--light-gray);
            color: var(--dark);
        }

        .btn-secondary:hover {
            background: #d5d5d5;
        }

        /* Products */
        .products-container {
            max-width: 1200px;
            margin: 20px auto;
            padding: 0 16px;
        }

        .products-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(160px, 1fr));
            gap: 16px;
        }

        @media (min-width: 768px) {
            .products-grid {
                grid-template-columns: repeat(auto-fill, minmax(200px, 1fr));
                gap: 20px;
            }
        }

        .product-card {
            background: white;
            border-radius: var(--border-radius);
            overflow: hidden;
            box-shadow: var(--shadow);
            transition: var(--transition);
            cursor: pointer;
            position: relative;
        }

        .product-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 8px 20px rgba(0,0,0,0.12);
        }

        .product-image {
            position: relative;
            height: 140px;
            overflow: hidden;
            background: linear-gradient(135deg, #f5f0e6 0%, #e8dfc8 100%);
        }

        .image-slider {
            display: flex;
            height: 100%;
            transition: transform 0.3s ease;
        }

        .image-slide {
            min-width: 100%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 60px;
            user-select: none;
        }

        .slider-nav {
            position: absolute;
            bottom: 10px;
            left: 50%;
            transform: translateX(-50%);
            display: flex;
            gap: 6px;
        }

        .slider-dot {
            width: 8px;
            height: 8px;
            border-radius: 50%;
            background: rgba(255,255,255,0.6);
            transition: var(--transition);
        }

        .slider-dot.active {
            background: white;
            transform: scale(1.2);
        }

        .product-badge {
            position: absolute;
            top: 10px;
            right: 10px;
            background: var(--primary);
            color: white;
            padding: 4px 10px;
            border-radius: 20px;
            font-size: 10px;
            font-weight: 700;
        }

        .product-badge.nonveg {
            background: var(--accent);
        }

        .product-info {
            padding: 16px;
        }

        .product-name {
            font-size: 16px;
            font-weight: 700;
            color: var(--dark);
            margin-bottom: 6px;
            display: -webkit-box;
            -webkit-line-clamp: 1;
            -webkit-box-orient: vertical;
            overflow: hidden;
        }

        .product-desc {
            font-size: 12px;
            color: var(--gray);
            margin-bottom: 10px;
            display: -webkit-box;
            -webkit-line-clamp: 2;
            -webkit-box-orient: vertical;
            overflow: hidden;
        }

        .product-price {
            font-size: 20px;
            font-weight: 800;
            color: var(--primary);
            margin-bottom: 12px;
        }

        .product-actions {
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        .size-select {
            padding: 6px 10px;
            border: 1px solid var(--light-gray);
            border-radius: 6px;
            font-size: 12px;
            font-weight: 600;
            color: var(--dark);
            background: white;
            cursor: pointer;
        }

        .add-to-cart {
            background: var(--primary);
            color: white;
            border: none;
            border-radius: 6px;
            padding: 8px 16px;
            font-size: 14px;
            font-weight: 600;
            cursor: pointer;
            display: flex;
            align-items: center;
            gap: 6px;
            transition: var(--transition);
        }

        .add-to-cart:hover {
            background: var(--primary-light);
        }

        /* Product Modal */
        .product-modal {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0,0,0,0.8);
            z-index: 1000;
            display: flex;
            align-items: center;
            justify-content: center;
            opacity: 0;
            visibility: hidden;
            transition: var(--transition);
            padding: 20px;
        }

        .product-modal.active {
            opacity: 1;
            visibility: visible;
        }

        .modal-content {
            background: white;
            border-radius: var(--border-radius);
            width: 100%;
            max-width: 800px;
            max-height: 90vh;
            overflow-y: auto;
            position: relative;
            transform: translateY(20px);
            transition: transform 0.3s ease;
        }

        .product-modal.active .modal-content {
            transform: translateY(0);
        }

        .close-modal {
            position: absolute;
            top: 16px;
            right: 16px;
            background: rgba(255,255,255,0.9);
            border: none;
            width: 36px;
            height: 36px;
            border-radius: 50%;
            font-size: 22px;
            cursor: pointer;
            z-index: 10;
            display: flex;
            align-items: center;
            justify-content: center;
        }

        .modal-image {
            height: 250px;
            background: linear-gradient(135deg, #f5f0e6 0%, #e8dfc8 100%);
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 100px;
        }

        .modal-info {
            padding: 24px;
        }

        .modal-header {
            display: flex;
            justify-content: space-between;
            align-items: flex-start;
            margin-bottom: 16px;
        }

        .modal-title {
            font-size: 24px;
            font-weight: 800;
            color: var(--dark);
            margin-right: 16px;
        }

        .modal-category {
            display: inline-block;
            background: var(--light-gray);
            color: var(--gray);
            padding: 4px 12px;
            border-radius: 20px;
            font-size: 12px;
            font-weight: 600;
            margin-top: 8px;
        }

        .modal-price {
            font-size: 28px;
            font-weight: 800;
            color: var(--primary);
            margin-bottom: 20px;
        }

        .modal-section {
            margin-bottom: 24px;
        }

        .section-title {
            font-size: 18px;
            font-weight: 700;
            color: var(--dark);
            margin-bottom: 12px;
            padding-bottom: 8px;
            border-bottom: 1px solid var(--light-gray);
        }

        .modal-desc {
            color: var(--gray);
            line-height: 1.6;
        }

        .ingredients-list {
            list-style: none;
        }

        .ingredients-list li {
            padding: 8px 0;
            border-bottom: 1px dashed var(--light-gray);
            display: flex;
            justify-content: space-between;
        }

        .ingredients-list li:last-child {
            border-bottom: none;
        }

        .ingredient-name {
            font-weight: 600;
        }

        .modal-sizes {
            display: flex;
            gap: 12px;
            flex-wrap: wrap;
        }

        .modal-size {
            padding: 10px 20px;
            border: 2px solid var(--light-gray);
            border-radius: 8px;
            cursor: pointer;
            transition: var(--transition);
            text-align: center;
            min-width: 80px;
        }

        .modal-size.active {
            border-color: var(--primary);
            background: rgba(45, 80, 22, 0.05);
        }

        .size-label {
            font-size: 14px;
            font-weight: 600;
            color: var(--dark);
        }

        .size-price {
            font-size: 16px;
            font-weight: 800;
            color: var(--primary);
            margin-top: 4px;
        }

        .modal-actions {
            display: flex;
            gap: 16px;
            margin-top: 30px;
        }

        .modal-actions .add-to-cart {
            flex: 2;
            justify-content: center;
            padding: 16px;
            font-size: 16px;
        }

        .btn-outline {
            flex: 1;
            background: white;
            border: 2px solid var(--primary);
            color: var(--primary);
            border-radius: 8px;
            padding: 16px;
            font-size: 16px;
            font-weight: 600;
            cursor: pointer;
            transition: var(--transition);
        }

        .btn-outline:hover {
            background: rgba(45, 80, 22, 0.05);
        }

        /* Cart Sidebar */
        .cart-sidebar {
            position: fixed;
            top: 0;
            right: -100%;
            width: 100%;
            height: 100%;
            background: white;
            z-index: 1001;
            transition: var(--transition);
            display: flex;
            flex-direction: column;
            max-width: 400px;
        }

        @media (min-width: 768px) {
            .cart-sidebar {
                width: 400px;
            }
        }

        .cart-sidebar.active {
            right: 0;
        }

        .cart-header {
            background: var(--primary);
            color: white;
            padding: 20px;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        .cart-title {
            font-size: 20px;
            font-weight: 700;
        }

        .close-cart {
            background: none;
            border: none;
            color: white;
            font-size: 28px;
            cursor: pointer;
        }

        .cart-items {
            flex: 1;
            overflow-y: auto;
            padding: 20px;
        }

        .cart-empty {
            text-align: center;
            padding: 60px 20px;
            color: var(--gray);
        }

        .cart-empty i {
            font-size: 60px;
            margin-bottom: 20px;
            opacity: 0.5;
        }

        .cart-empty p {
            font-size: 18px;
            margin-bottom: 16px;
        }

        .cart-item {
            display: flex;
            gap: 16px;
            padding: 16px;
            background: var(--light);
            border-radius: var(--border-radius);
            margin-bottom: 16px;
        }

        .cart-item-image {
            width: 60px;
            height: 60px;
            background: linear-gradient(135deg, #f5f0e6 0%, #e8dfc8 100%);
            border-radius: 8px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 30px;
            flex-shrink: 0;
        }

        .cart-item-details {
            flex: 1;
        }

        .cart-item-name {
            font-weight: 700;
            margin-bottom: 4px;
            color: var(--dark);
        }

        .cart-item-size {
            font-size: 12px;
            color: var(--gray);
            margin-bottom: 8px;
        }

        .cart-item-controls {
            display: flex;
            align-items: center;
            justify-content: space-between;
        }

        .cart-item-quantity {
            display: flex;
            align-items: center;
            gap: 10px;
        }

        .qty-btn {
            width: 28px;
            height: 28px;
            border-radius: 50%;
            border: 1px solid var(--light-gray);
            background: white;
            font-weight: 700;
            cursor: pointer;
            display: flex;
            align-items: center;
            justify-content: center;
        }

        .cart-item-price {
            font-weight: 800;
            color: var(--primary);
        }

        .remove-item {
            background: none;
            border: none;
            color: var(--accent);
            font-size: 12px;
            cursor: pointer;
            margin-top: 8px;
        }

        .cart-footer {
            padding: 20px;
            border-top: 1px solid var(--light-gray);
            background: white;
        }

        .cart-total {
            display: flex;
            justify-content: space-between;
            font-size: 20px;
            font-weight: 800;
            margin-bottom: 20px;
            color: var(--dark);
        }

        .cart-total span:last-child {
            color: var(--primary);
        }

        .checkout-btn {
            width: 100%;
            background: var(--primary);
            color: white;
            border: none;
            border-radius: 8px;
            padding: 16px;
            font-size: 16px;
            font-weight: 700;
            cursor: pointer;
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 10px;
            transition: var(--transition);
        }

        .checkout-btn:hover {
            background: var(--primary-light);
        }

        .clear-cart {
            width: 100%;
            background: var(--light-gray);
            color: var(--dark);
            border: none;
            border-radius: 8px;
            padding: 12px;
            margin-top: 12px;
            font-size: 14px;
            font-weight: 600;
            cursor: pointer;
            transition: var(--transition);
        }

        .clear-cart:hover {
            background: #d5d5d5;
        }

        /* Overlay */
        .overlay {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0,0,0,0.5);
            z-index: 999;
            opacity: 0;
            visibility: hidden;
            transition: var(--transition);
        }

        .overlay.active {
            opacity: 1;
            visibility: visible;
        }

        /* Footer */
        .footer {
            background: var(--dark);
            color: white;
            padding: 40px 16px;
            margin-top: 40px;
        }

        .footer-content {
            max-width: 1200px;
            margin: 0 auto;
            text-align: center;
        }

        .footer-logo {
            font-size: 24px;
            font-weight: 700;
            margin-bottom: 16px;
            color: white;
        }

        .footer-tagline {
            color: rgba(255,255,255,0.7);
            margin-bottom: 24px;
            max-width: 500px;
            margin-left: auto;
            margin-right: auto;
        }

        .copyright {
            color: rgba(255,255,255,0.5);
            font-size: 14px;
            margin-top: 24px;
            padding-top: 24px;
            border-top: 1px solid rgba(255,255,255,0.1);
        }

        /* Responsive */
        @media (max-width: 768px) {
            .menu-toggle {
                display: block;
            }
            
            .banner {
                height: 150px;
            }
            
            .banner-title {
                font-size: 18px;
            }
            
            .modal-content {
                max-height: 95vh;
            }
            
            .modal-image {
                height: 200px;
                font-size: 80px;
            }
            
            .modal-title {
                font-size: 20px;
            }
            
            .modal-actions {
                flex-direction: column;
            }
            
            .filters-grid {
                grid-template-columns: 1fr;
                gap: 16px;
            }
        }

        @media (max-width: 480px) {
            .products-grid {
                grid-template-columns: repeat(2, 1fr);
                gap: 12px;
            }
            
            .product-image {
                height: 120px;
            }
            
            .image-slide {
                font-size: 50px;
            }
            
            .product-info {
                padding: 12px;
            }
            
            .product-name {
                font-size: 14px;
            }
            
            .product-price {
                font-size: 18px;
            }
        }
    </style>
</head>
<body>
    <!-- Header -->
    <header class="header">
        <div class="header-container">
            <div class="logo">
                <div class="logo-icon">üåø</div>
                <div class="logo-text">
                    <h1>Green Harvest</h1>
                    <p>Authentic Indian Pickles & Foods</p>
                </div>
            </div>
            <div class="header-actions">
                <button class="cart-btn" onclick="toggleCart()">
                    <i class="fas fa-shopping-cart"></i>
                    <span class="cart-count" id="cartCount">0</span>
                </button>
                <button class="menu-toggle" onclick="toggleMobileMenu()">
                    <i class="fas fa-bars"></i>
                </button>
            </div>
        </div>
    </header>

    <!-- Banner -->
    <section class="banner" id="banner">
        <div class="banner-slide active">
            <div class="banner-title">ü•≠ Fresh Homemade Pickles</div>
            <div class="banner-subtitle">Enjoy 20% OFF on all pickles this week. Limited time offer!</div>
        </div>
        <div class="banner-slide">
            <div class="banner-title">üå∞ Traditional Podis</div>
            <div class="banner-subtitle">Buy 2 Get 1 Free on all podis and spice mixes</div>
        </div>
        <div class="banner-slide">
            <div class="banner-title">üç¨ Sweet Delights</div>
            <div class="banner-subtitle">New arrivals: Traditional Indian sweets made with pure ghee</div>
        </div>
        <div class="banner-dots" id="bannerDots"></div>
    </section>

    <!-- Categories -->
    <section class="categories">
        <div class="categories-scroll" id="categoriesScroll">
            <button class="category-btn active" data-category="all">
                <i class="fas fa-th-large"></i> All
            </button>
            <button class="category-btn" data-category="pickles">
                <i class="fas fa-jar"></i> Pickles
            </button>
            <button class="category-btn" data-category="podis">
                <i class="fas fa-mortar-pestle"></i> Podis
            </button>
            <button class="category-btn" data-category="sweets">
                <i class="fas fa-candy-cane"></i> Sweets
            </button>
            <button class="category-btn" data-category="spreads">
                <i class="fas fa-bread-slice"></i> Spreads
            </button>
            <button class="category-btn" data-category="snacks">
                <i class="fas fa-cookie"></i> Snacks
            </button>
        </div>
    </section>

    <!-- Filters -->
    <section class="filters-container">
        <button class="filters-toggle" id="filtersToggle">
            <span>Filter Products</span>
            <i class="fas fa-chevron-down"></i>
        </button>
        <div class="filters-content" id="filtersContent">
            <div class="filters-grid">
                <div class="filter-group">
                    <label class="filter-label">Type</label>
                    <select class="filter-select" id="typeFilter">
                        <option value="all">All Types</option>
                        <option value="veg">Vegetarian</option>
                        <option value="nonveg">Non-Vegetarian</option>
                    </select>
                </div>
                <div class="filter-group">
                    <label class="filter-label">Price Range</label>
                    <div class="price-inputs">
                        <input type="number" class="filter-input" id="minPrice" placeholder="Min" min="0">
                        <span>-</span>
                        <input type="number" class="filter-input" id="maxPrice" placeholder="Max" min="0">
                    </div>
                </div>
                <div class="filter-group">
                    <label class="filter-label">Sort By</label>
                    <select class="filter-select" id="sortFilter">
                        <option value="featured">Featured</option>
                        <option value="price-low">Price: Low to High</option>
                        <option value="price-high">Price: High to Low</option>
                        <option value="name">Name: A to Z</option>
                    </select>
                </div>
                <div class="filter-actions">
                    <button class="btn btn-primary" onclick="applyFilters()">Apply Filters</button>
                    <button class="btn btn-secondary" onclick="resetFilters()">Reset</button>
                </div>
            </div>
        </div>
    </section>

    <!-- Products Grid -->
    <section class="products-container">
        <div class="products-grid" id="productsGrid"></div>
    </section>

    <!-- Product Modal -->
    <div class="product-modal" id="productModal">
        <div class="modal-content">
            <button class="close-modal" onclick="closeModal()">√ó</button>
            <div class="modal-image" id="modalImage">
                <!-- Product image will be inserted here -->
            </div>
            <div class="modal-info">
                <div class="modal-header">
                    <div>
                        <h2 class="modal-title" id="modalTitle"></h2>
                        <span class="modal-category" id="modalCategory"></span>
                    </div>
                    <div class="modal-price" id="modalPrice"></div>
                </div>
                
                <div class="modal-section">
                    <h3 class="section-title">Description</h3>
                    <p class="modal-desc" id="modalDesc"></p>
                </div>
                
                <div class="modal-section">
                    <h3 class="section-title">Ingredients</h3>
                    <ul class="ingredients-list" id="modalIngredients"></ul>
                </div>
                
                <div class="modal-section">
                    <h3 class="section-title">Available Sizes</h3>
                    <div class="modal-sizes" id="modalSizes"></div>
                </div>
                
                <div class="modal-actions">
                    <button class="btn-outline" onclick="closeModal()">Continue Shopping</button>
                    <button class="add-to-cart" id="modalAddToCart">
                        <i class="fas fa-cart-plus"></i> Add to Cart
                    </button>
                </div>
            </div>
        </div>
    </div>

    <!-- Cart Sidebar -->
    <div class="cart-sidebar" id="cartSidebar">
        <div class="cart-header">
            <h2 class="cart-title">Your Cart</h2>
            <button class="close-cart" onclick="toggleCart()">√ó</button>
        </div>
        <div class="cart-items" id="cartItems">
            <!-- Cart items will be inserted here -->
        </div>
        <div class="cart-footer">
            <div class="cart-total">
                <span>Total:</span>
                <span id="cartTotal">‚Çπ0</span>
            </div>
            <button class="checkout-btn" onclick="checkout()">
                <i class="fab fa-whatsapp"></i> Checkout on WhatsApp
            </button>
            <button class="clear-cart" onclick="clearCart()">Clear Cart</button>
        </div>
    </div>

    <!-- Overlay -->
    <div class="overlay" id="overlay" onclick="closeAllModals()"></div>

    <!-- Footer -->
    <footer class="footer">
        <div class="footer-content">
            <div class="footer-logo">üåø Green Harvest Foods</div>
            <p class="footer-tagline">Authentic Indian pickles, podis, sweets and traditional foods made with love and traditional recipes passed down through generations.</p>
            <p class="copyright">¬© 2023 Green Harvest Foods. All rights reserved.</p>
        </div>
    </footer>

    <script>
        // Product Data
        const products = [
            { 
                id: 1, 
                name: 'Avaakaya Mango Pickle', 
                category: 'pickles', 
                type: 'veg', 
                images: ['ü•≠', 'üå∂Ô∏è', 'ü´ô'], 
                desc: 'Authentic Andhra style spicy mango pickle made with raw mangoes, red chillies, and traditional spices. Perfect with rice, curd, or any meal.', 
                ingredients: ['Raw Mangoes', 'Red Chilli Powder', 'Mustard Seeds', 'Fenugreek Seeds', 'Turmeric', 'Salt', 'Oil'],
                sizes: [
                    {size: '250g', price: 199},
                    {size: '500g', price: 349},
                    {size: '1kg', price: 599}
                ],
                featured: true
            },
            { 
                id: 2, 
                name: 'Lemon Pickle', 
                category: 'pickles', 
                type: 'veg', 
                images: ['üçã', 'üåø', 'ü´ô'], 
                desc: 'Tangy and spicy lemon pickle made with fresh lemons, Indian spices, and a hint of jaggery for balanced flavor.', 
                ingredients: ['Lemons', 'Mustard Seeds', 'Fenugreek Seeds', 'Turmeric', 'Red Chilli', 'Asafoetida', 'Salt', 'Oil'],
                sizes: [
                    {size: '250g', price: 179},
                    {size: '500g', price: 299}
                ],
                featured: true
            },
            { 
                id: 3, 
                name: 'Gongura Pickle', 
                category: 'pickles', 
                type: 'veg', 
                images: ['üåø', 'üå∂Ô∏è', 'ü´ô'], 
                desc: 'Traditional sorrel leaves pickle with a unique tangy taste. A specialty from Telangana region.', 
                ingredients: ['Gongura Leaves', 'Red Chillies', 'Garlic', 'Mustard Seeds', 'Cumin', 'Salt', 'Oil'],
                sizes: [
                    {size: '250g', price: 199},
                    {size: '500g', price: 359}
                ],
                featured: false
            },
            { 
                id: 4, 
                name: 'Chicken Pickle', 
                category: 'pickles', 
                type: 'nonveg', 
                images: ['üçó', 'üå∂Ô∏è', 'ü´ô'], 
                desc: 'Spicy chicken pickle made with tender chicken pieces marinated in traditional spices and cooked to perfection.', 
                ingredients: ['Chicken', 'Red Chilli Powder', 'Ginger Garlic Paste', 'Turmeric', 'Vinegar', 'Spices', 'Oil'],
                sizes: [
                    {size: '250g', price: 299},
                    {size: '500g', price: 549}
                ],
                featured: true
            },
            { 
                id: 5, 
                name: 'Prawn Pickle', 
                category: 'pickles', 
                type: 'nonveg', 
                images: ['ü¶ê', 'üå∂Ô∏è', 'ü´ô'], 
                desc: 'Coastal style prawn pickle with fresh prawns cooked in aromatic spices and tangy tamarind.', 
                ingredients: ['Prawns', 'Red Chillies', 'Tamarind', 'Garlic', 'Fenugreek', 'Mustard Seeds', 'Oil', 'Salt'],
                sizes: [
                    {size: '250g', price: 349},
                    {size: '500g', price: 649}
                ],
                featured: false
            },
            { 
                id: 6, 
                name: 'Garlic Pickle', 
                category: 'pickles', 
                type: 'veg', 
                images: ['üßÑ', 'üå∂Ô∏è', 'ü´ô'], 
                desc: 'Pungent and spicy garlic pickle perfect for garlic lovers. Enhances the flavor of any meal.', 
                ingredients: ['Garlic Cloves', 'Red Chilli Powder', 'Lemon Juice', 'Mustard Seeds', 'Fenugreek', 'Salt', 'Oil'],
                sizes: [
                    {size: '250g', price: 189},
                    {size: '500g', price: 329}
                ],
                featured: false
            },
            { 
                id: 7, 
                name: 'Idli Podi', 
                category: 'podis', 
                type: 'veg', 
                images: ['üå∞', 'üå∂Ô∏è', 'ü•Ñ'], 
                desc: 'Classic South Indian gunpowder made with lentils, spices, and sesame seeds. Perfect with idli, dosa, or rice.', 
                ingredients: ['Chana Dal', 'Urad Dal', 'Red Chillies', 'Sesame Seeds', 'Asafoetida', 'Salt'],
                sizes: [
                    {size: '100g', price: 99},
                    {size: '250g', price: 199},
                    {size: '500g', price: 349}
                ],
                featured: true
            },
            { 
                id: 8, 
                name: 'Curry Leaf Podi', 
                category: 'podis', 
                type: 'veg', 
                images: ['üçÉ', 'üå∞', 'ü•Ñ'], 
                desc: 'Aromatic curry leaf powder rich in antioxidants. Great for digestion and adds flavor to any dish.', 
                ingredients: ['Curry Leaves', 'Chana Dal', 'Urad Dal', 'Red Chillies', 'Tamarind', 'Salt', 'Oil'],
                sizes: [
                    {size: '100g', price: 89},
                    {size: '250g', price: 179}
                ],
                featured: false
            },
            { 
                id: 9, 
                name: 'Garlic Podi', 
                category: 'podis', 
                type: 'veg', 
                images: ['üßÑ', 'üå∞', 'ü•Ñ'], 
                desc: 'Garlic flavored podi with the goodness of garlic and traditional spices. Excellent with hot rice and ghee.', 
                ingredients: ['Garlic', 'Chana Dal', 'Urad Dal', 'Red Chillies', 'Sesame Seeds', 'Salt'],
                sizes: [
                    {size: '100g', price: 109},
                    {size: '250g', price: 219}
                ],
                featured: false
            },
            { 
                id: 10, 
                name: 'Flax Seed Podi', 
                category: 'podis', 
                type: 'veg', 
                images: ['üåæ', 'üå∞', 'ü•Ñ'], 
                desc: 'Healthy flax seed podi rich in omega-3. A nutritious addition to your daily meals.', 
                ingredients: ['Flax Seeds', 'Chana Dal', 'Urad Dal', 'Red Chillies', 'Sesame Seeds', 'Salt'],
                sizes: [
                    {size: '100g', price: 129},
                    {size: '250g', price: 249}
                ],
                featured: true
            },
            { 
                id: 11, 
                name: 'Mysore Pak', 
                category: 'sweets', 
                type: 'veg', 
                images: ['üü®', 'üçØ', 'üéÅ'], 
                desc: 'Classic South Indian sweet made with pure ghee, gram flour, and sugar. Rich, melt-in-mouth texture.', 
                ingredients: ['Gram Flour', 'Pure Ghee', 'Sugar', 'Cardamom', 'Water'],
                sizes: [
                    {size: '250g', price: 199},
                    {size: '500g', price: 379}
                ],
                featured: true
            },
            { 
                id: 12, 
                name: 'Ladoo', 
                category: 'sweets', 
                type: 'veg', 
                images: ['üü°', 'ü••', 'üéÅ'], 
                desc: 'Traditional besan ladoo made with gram flour, ghee, sugar, and nuts. A festive favorite.', 
                ingredients: ['Gram Flour', 'Pure Ghee', 'Sugar', 'Cashews', 'Raisins', 'Cardamom'],
                sizes: [
                    {size: '250g', price: 149},
                    {size: '500g', price: 279},
                    {size: '1kg', price: 499}
                ],
                featured: false
            },
            { 
                id: 13, 
                name: 'Kaju Katli', 
                category: 'sweets', 
                type: 'veg', 
                images: ['üî∂', 'üå∞', 'üéÅ'], 
                desc: 'Premium cashew sweet made with finely ground cashews, sugar, and edible silver leaf.', 
                ingredients: ['Cashews', 'Sugar', 'Ghee', 'Cardamom', 'Edible Silver Leaf'],
                sizes: [
                    {size: '250g', price: 299},
                    {size: '500g', price: 569}
                ],
                featured: true
            },
            { 
                id: 14, 
                name: 'Jaggery Sweets', 
                category: 'sweets', 
                type: 'veg', 
                images: ['üü§', 'üçØ', 'üéÅ'], 
                desc: 'Healthy sweets made with organic jaggery, nuts, and traditional recipes. No refined sugar.', 
                ingredients: ['Jaggery', 'Gram Flour', 'Ghee', 'Cashews', 'Almonds', 'Cardamom'],
                sizes: [
                    {size: '250g', price: 159},
                    {size: '500g', price: 299}
                ],
                featured: false
            },
        ];

        // Global variables
        let cart = JSON.parse(localStorage.getItem('greenHarvestCart')) || [];
        let currentBanner = 0;
        let currentProduct = null;
        let selectedSizeIndex = 0;
        let currentFilters = {
            category: 'all',
            type: 'all',
            minPrice: '',
            maxPrice: '',
            sort: 'featured'
        };

        // Initialize the page
        document.addEventListener('DOMContentLoaded', function() {
            initBanner();
            renderCategories();
            renderProducts(products);
            updateCartUI();
            initProductImageSwiping();
        });

        // Banner functionality
        function initBanner() {
            const bannerDots = document.getElementById('bannerDots');
            const slides = document.querySelectorAll('.banner-slide');
            
            // Create dots
            slides.forEach((_, index) => {
                const dot = document.createElement('div');
                dot.className = 'banner-dot' + (index === 0 ? ' active' : '');
                dot.addEventListener('click', () => setBanner(index));
                bannerDots.appendChild(dot);
            });
            
            // Auto-rotate banners
            setInterval(() => {
                currentBanner = (currentBanner + 1) % slides.length;
                setBanner(currentBanner);
            }, 5000);
        }

        function setBanner(index) {
            const slides = document.querySelectorAll('.banner-slide');
            const dots = document.querySelectorAll('.banner-dot');
            
            slides.forEach(slide => slide.classList.remove('active'));
            dots.forEach(dot => dot.classList.remove('active'));
            
            slides[index].classList.add('active');
            dots[index].classList.add('active');
            currentBanner = index;
        }

        // Categories
        function renderCategories() {
            const categoryBtns = document.querySelectorAll('.category-btn');
            categoryBtns.forEach(btn => {
                btn.addEventListener('click', function() {
                    categoryBtns.forEach(b => b.classList.remove('active'));
                    this.classList.add('active');
                    
                    const category = this.getAttribute('data-category');
                    currentFilters.category = category;
                    applyFilters();
                });
            });
        }

        // Products rendering
        function renderProducts(productList) {
            const grid = document.getElementById('productsGrid');
            grid.innerHTML = '';
            
            if (productList.length === 0) {
                grid.innerHTML = '<div style="grid-column: 1/-1; text-align: center; padding: 40px; color: var(--gray);">No products found matching your filters.</div>';
                return;
            }
            
            productList.forEach(product => {
                const card = document.createElement('div');
                card.className = 'product-card';
                card.setAttribute('data-id', product.id);
                
                // Create image slider dots
                let dotsHtml = '';
                product.images.forEach((_, i) => {
                    dotsHtml += `<div class="slider-dot ${i === 0 ? 'active' : ''}" data-index="${i}"></div>`;
                });
                
                // Create image slides
                let slidesHtml = '';
                product.images.forEach((img, i) => {
                    slidesHtml += `<div class="image-slide">${img}</div>`;
                });
                
                card.innerHTML = `
                    <div class="product-image" data-product-id="${product.id}">
                        <div class="image-slider" id="slider-${product.id}">
                            ${slidesHtml}
                        </div>
                        <div class="slider-nav" id="dots-${product.id}">
                            ${dotsHtml}
                        </div>
                        <div class="product-badge ${product.type}">
                            ${product.type === 'veg' ? 'üü¢ VEG' : 'üî¥ NON-VEG'}
                        </div>
                    </div>
                    <div class="product-info">
                        <h3 class="product-name">${product.name}</h3>
                        <p class="product-desc">${product.desc}</p>
                        <div class="product-price">‚Çπ${product.sizes[0].price}</div>
                        <div class="product-actions">
                            <select class="size-select" id="size-${product.id}">
                                ${product.sizes.map((size, i) => 
                                    `<option value="${i}">${size.size}</option>`
                                ).join('')}
                            </select>
                            <button class="add-to-cart" onclick="addToCart(${product.id})">
                                <i class="fas fa-cart-plus"></i> Add
                            </button>
                        </div>
                    </div>
                `;
                
                // Add click event to open modal
                card.addEventListener('click', function(e) {
                    if (!e.target.classList.contains('add-to-cart') && 
                        !e.target.classList.contains('size-select') &&
                        !e.target.closest('.slider-dot')) {
                        openProductModal(product.id);
                    }
                });
                
                grid.appendChild(card);
                
                // Add event listener to size selector
                const sizeSelect = document.getElementById(`size-${product.id}`);
                sizeSelect.addEventListener('change', function() {
                    const sizeIndex = parseInt(this.value);
                    const priceElement = card.querySelector('.product-price');
                    priceElement.textContent = `‚Çπ${product.sizes[sizeIndex].price}`;
                });
            });
        }

        // Image swiping for product cards
        function initProductImageSwiping() {
            let touchStartX = 0;
            let touchEndX = 0;
            
            document.addEventListener('touchstart', function(e) {
                if (e.target.closest('.product-image')) {
                    touchStartX = e.changedTouches[0].screenX;
                }
            }, {passive: true});
            
            document.addEventListener('touchend', function(e) {
                if (e.target.closest('.product-image')) {
                    touchEndX = e.changedTouches[0].screenX;
                    handleProductImageSwipe(e.target.closest('.product-image'), touchStartX, touchEndX);
                }
            }, {passive: true});
        }

        function handleProductImageSwipe(element, startX, endX) {
            const productId = element.getAttribute('data-product-id');
            const product = products.find(p => p.id === parseInt(productId));
            
            if (!product) return;
            
            const slider = document.getElementById(`slider-${productId}`);
            const dots = document.querySelectorAll(`#dots-${productId} .slider-dot`);
            
            let currentIndex = 0;
            dots.forEach((dot, i) => {
                if (dot.classList.contains('active')) {
                    currentIndex = i;
                }
            });
            
            if (startX > endX + 50) {
                // Swipe left - next image
                const nextIndex = (currentIndex + 1) % product.images.length;
                slider.style.transform = `translateX(-${nextIndex * 100}%)`;
                dots.forEach(dot => dot.classList.remove('active'));
                dots[nextIndex].classList.add('active');
            } else if (startX + 50 < endX) {
                // Swipe right - previous image
                const prevIndex = (currentIndex - 1 + product.images.length) % product.images.length;
                slider.style.transform = `translateX(-${prevIndex * 100}%)`;
                dots.forEach(dot => dot.classList.remove('active'));
                dots[prevIndex].classList.add('active');
            }
        }

        // Product Modal
        function openProductModal(productId) {
            const product = products.find(p => p.id === productId);
            if (!product) return;
            
            currentProduct = product;
            selectedSizeIndex = 0;
            
            // Update modal content
            document.getElementById('modalImage').innerHTML = `
                <div class="image-slider" style="transform: translateX(0%); width: ${100 * product.images.length}%">
                    ${product.images.map(img => `<div class="image-slide" style="min-width: ${100/product.images.length}%">${img}</div>`).join('')}
                </div>
            `;
            
            document.getElementById('modalTitle').textContent = product.name;
            document.getElementById('modalCategory').textContent = product.category.charAt(0).toUpperCase() + product.category.slice(1);
            document.getElementById('modalDesc').textContent = product.desc;
            document.getElementById('modalPrice').textContent = `‚Çπ${product.sizes[0].price}`;
            
            // Ingredients list
            const ingredientsList = document.getElementById('modalIngredients');
            ingredientsList.innerHTML = product.ingredients.map(ing => 
                `<li><span class="ingredient-name">${ing}</span></li>`
            ).join('');
            
            // Sizes
            const sizesContainer = document.getElementById('modalSizes');
            sizesContainer.innerHTML = product.sizes.map((size, index) => `
                <div class="modal-size ${index === 0 ? 'active' : ''}" data-index="${index}" onclick="selectModalSize(${index})">
                    <div class="size-label">${size.size}</div>
                    <div class="size-price">‚Çπ${size.price}</div>
                </div>
            `).join('');
            
            // Update modal add to cart button
            document.getElementById('modalAddToCart').setAttribute('onclick', `addToCartFromModal(${productId})`);
            
            // Show modal and overlay
            document.getElementById('productModal').classList.add('active');
            document.getElementById('overlay').classList.add('active');
            document.body.style.overflow = 'hidden';
        }

        function selectModalSize(index) {
            selectedSizeIndex = index;
            
            // Update active size
            document.querySelectorAll('.modal-size').forEach((sizeEl, i) => {
                sizeEl.classList.toggle('active', i === index);
            });
            
            // Update price
            document.getElementById('modalPrice').textContent = `‚Çπ${currentProduct.sizes[index].price}`;
        }

        function closeModal() {
            document.getElementById('productModal').classList.remove('active');
            document.getElementById('overlay').classList.remove('active');
            document.body.style.overflow = 'auto';
        }

        // Cart functionality
        function addToCart(productId) {
            const product = products.find(p => p.id === productId);
            if (!product) return;
            
            const sizeSelect = document.getElementById(`size-${productId}`);
            const sizeIndex = parseInt(sizeSelect.value);
            const selectedSize = product.sizes[sizeIndex];
            
            addToCartItem(product, selectedSize, sizeIndex);
        }

        function addToCartFromModal(productId) {
            const product = products.find(p => p.id === productId);
            if (!product) return;
            
            const selectedSize = product.sizes[selectedSizeIndex];
            addToCartItem(product, selectedSize, selectedSizeIndex);
            closeModal();
        }

        function addToCartItem(product, size, sizeIndex) {
            const cartItemId = `${product.id}-${sizeIndex}`;
            const existingItem = cart.find(item => item.cartId === cartItemId);
            
            if (existingItem) {
                existingItem.quantity += 1;
            } else {
                cart.push({
                    cartId: cartItemId,
                    productId: product.id,
                    name: product.name,
                    image: product.images[0],
                    size: size.size,
                    price: size.price,
                    quantity: 1
                });
            }
            
            saveCart();
            updateCartUI();
            showCartNotification('Item added to cart!');
        }

        function showCartNotification(message) {
            // Create notification element
            const notification = document.createElement('div');
            notification.textContent = message;
            notification.style.cssText = `
                position: fixed;
                top: 20px;
                right: 20px;
                background: var(--primary);
                color: white;
                padding: 12px 20px;
                border-radius: 8px;
                z-index: 2000;
                font-weight: 600;
                box-shadow: var(--shadow);
                animation: slideIn 0.3s ease, fadeOut 0.3s ease 2s forwards;
            `;
            
            // Add keyframes for animation
            const style = document.createElement('style');
            style.textContent = `
                @keyframes slideIn {
                    from { transform: translateX(100%); opacity: 0; }
                    to { transform: translateX(0); opacity: 1; }
                }
                @keyframes fadeOut {
                    from { opacity: 1; }
                    to { opacity: 0; }
                }
            `;
            document.head.appendChild(style);
            
            document.body.appendChild(notification);
            
            // Remove after animation
            setTimeout(() => {
                notification.remove();
                style.remove();
            }, 2300);
        }

        function updateQuantity(cartId, delta) {
            const item = cart.find(i => i.cartId === cartId);
            if (item) {
                item.quantity += delta;
                if (item.quantity <= 0) {
                    cart = cart.filter(i => i.cartId !== cartId);
                }
                saveCart();
                updateCartUI();
            }
        }

        function removeFromCart(cartId) {
            cart = cart.filter(i => i.cartId !== cartId);
            saveCart();
            updateCartUI();
        }

        function clearCart() {
            if (cart.length === 0) return;
            
            if (confirm('Are you sure you want to clear your cart?')) {
                cart = [];
                saveCart();
                updateCartUI();
            }
        }

        function updateCartUI() {
            // Update cart count
            const cartCount = cart.reduce((sum, item) => sum + item.quantity, 0);
            document.getElementById('cartCount').textContent = cartCount;
            
            // Update cart total
            const cartTotal = cart.reduce((sum, item) => sum + (item.price * item.quantity), 0);
            document.getElementById('cartTotal').textContent = `‚Çπ${cartTotal}`;
            
            // Update cart items
            const cartItems = document.getElementById('cartItems');
            
            if (cart.length === 0) {
                cartItems.innerHTML = `
                    <div class="cart-empty">
                        <i class="fas fa-shopping-cart"></i>
                        <p>Your cart is empty</p>
                        <p>Add some delicious products!</p>
                    </div>
                `;
                return;
            }
            
            let itemsHtml = '';
            cart.forEach(item => {
                itemsHtml += `
                    <div class="cart-item">
                        <div class="cart-item-image">${item.image}</div>
                        <div class="cart-item-details">
                            <div class="cart-item-name">${item.name}</div>
                            <div class="cart-item-size">${item.size}</div>
                            <div class="cart-item-controls">
                                <div class="cart-item-quantity">
                                    <button class="qty-btn" onclick="updateQuantity('${item.cartId}', -1)">-</button>
                                    <span>${item.quantity}</span>
                                    <button class="qty-btn" onclick="updateQuantity('${item.cartId}', 1)">+</button>
                                </div>
                                <div class="cart-item-price">‚Çπ${item.price * item.quantity}</div>
                            </div>
                            <button class="remove-item" onclick="removeFromCart('${item.cartId}')">Remove</button>
                        </div>
                    </div>
                `;
            });
            
            cartItems.innerHTML = itemsHtml;
        }

        function toggleCart() {
            document.getElementById('cartSidebar').classList.toggle('active');
            document.getElementById('overlay').classList.toggle('active');
            document.body.style.overflow = document.getElementById('cartSidebar').classList.contains('active') ? 'hidden' : 'auto';
        }

        function closeAllModals() {
            closeModal();
            document.getElementById('cartSidebar').classList.remove('active');
            document.getElementById('overlay').classList.remove('active');
            document.body.style.overflow = 'auto';
        }

        // Filter functionality
        document.getElementById('filtersToggle').addEventListener('click', function() {
            this.classList.toggle('active');
            document.getElementById('filtersContent').classList.toggle('show');
        });

        function applyFilters() {
            // Get filter values
            const type = document.getElementById('typeFilter').value;
            const minPrice = parseInt(document.getElementById('minPrice').value) || 0;
            const maxPrice = parseInt(document.getElementById('maxPrice').value) || 999999;
            const sort = document.getElementById('sortFilter').value;
            
            // Update current filters
            currentFilters.type = type;
            currentFilters.minPrice = minPrice;
            currentFilters.maxPrice = maxPrice;
            currentFilters.sort = sort;
            
            // Apply filters
            let filtered = products.filter(p => {
                // Category filter
                const categoryMatch = currentFilters.category === 'all' || p.category === currentFilters.category;
                
                // Type filter
                const typeMatch = currentFilters.type === 'all' || p.type === currentFilters.type;
                
                // Price filter (use first size price for filtering)
                const price = p.sizes[0].price;
                const priceMatch = price >= minPrice && price <= maxPrice;
                
                return categoryMatch && typeMatch && priceMatch;
            });
            
            // Apply sorting
            if (sort === 'price-low') {
                filtered.sort((a, b) => a.sizes[0].price - b.sizes[0].price);
            } else if (sort === 'price-high') {
                filtered.sort((a, b) => b.sizes[0].price - a.sizes[0].price);
            } else if (sort === 'name') {
                filtered.sort((a, b) => a.name.localeCompare(b.name));
            } else if (sort === 'featured') {
                filtered.sort((a, b) => (b.featured ? 1 : 0) - (a.featured ? 1 : 0));
            }
            
            renderProducts(filtered);
            
            // Collapse filters on mobile after applying
            if (window.innerWidth < 768) {
                document.getElementById('filtersToggle').classList.remove('active');
                document.getElementById('filtersContent').classList.remove('show');
            }
        }

        function resetFilters() {
            // Reset category buttons
            document.querySelectorAll('.category-btn').forEach(btn => {
                btn.classList.toggle('active', btn.getAttribute('data-category') === 'all');
            });
            
            // Reset filter inputs
            document.getElementById('typeFilter').value = 'all';
            document.getElementById('minPrice').value = '';
            document.getElementById('maxPrice').value = '';
            document.getElementById('sortFilter').value = 'featured';
            
            // Reset current filters
            currentFilters = {
                category: 'all',
                type: 'all',
                minPrice: '',
                maxPrice: '',
                sort: 'featured'
            };
            
            // Re-render all products
            renderProducts(products);
        }

        // Checkout via WhatsApp
        function checkout() {
            if (cart.length === 0) {
                alert('Your cart is empty! Add some items before checkout.');
                return;
            }
            
            const total = cart.reduce((sum, item) => sum + (item.price * item.quantity), 0);
            
            let message = `*üõí Order from Green Harvest Foods*%0A%0A`;
            message += `Hello! I'd like to place an order:%0A%0A`;
            
            cart.forEach((item, index) => {
                message += `*${index + 1}. ${item.name}*%0A`;
                message += `Size: ${item.size}%0A`;
                message += `Quantity: ${item.quantity} x ‚Çπ${item.price} = ‚Çπ${item.price * item.quantity}%0A%0A`;
            });
            
            message += `--------------------------------%0A`;
            message += `*Total: ‚Çπ${total}*%0A%0A`;
            message += `Please confirm my order and provide delivery details.`;
            
            // WhatsApp number (replace with actual business number)
            const phoneNumber = '919876543210';
            const whatsappUrl = `https://wa.me/${phoneNumber}?text=${message}`;
            
            window.open(whatsappUrl, '_blank');
            
            // Optional: Clear cart after checkout
            // cart = [];
            // saveCart();
            // updateCartUI();
            // toggleCart();
        }

        // Utility functions
        function saveCart() {
            localStorage.setItem('greenHarvestCart', JSON.stringify(cart));
        }

        function toggleMobileMenu() {
            // For future mobile menu implementation
            alert('Mobile menu would open here. For now, use the cart button and filters.');
        }
    </script>
</body>
</html>
